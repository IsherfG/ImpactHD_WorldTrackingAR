<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Variant Launch ThreeJS Example</title>
    <script src="https://launchar.app/sdk/v1?key=kn2ADuXkMYN2FdWXljqrYXQJiCoeYnBg&redirect=true"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta charset="UTF-8" />
    <link rel="icon" href="/favicon.ico" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <link rel="stylesheet" href="style.css">
    <!-- Add style for the on-screen logger -->
    <style>
      #on-screen-logger {
        position: fixed;
        top: calc(10px + env(safe-area-inset-top)); /* Respect safe area */
        left: 10px;
        right: 10px;
        max-height: 30vh; /* Limit height */
        overflow-y: auto; /* Scroll if content overflows */
        background-color: rgba(0, 0, 0, 0.7);
        color: #0f0; /* Green text for logs */
        font-family: monospace;
        font-size: 10px;
        padding: 5px;
        border: 1px solid #333;
        border-radius: 5px;
        z-index: 100; /* Above everything else */
        pointer-events: none; /* So it doesn't interfere with touches */
        white-space: pre-wrap; /* Preserve line breaks and spaces */
      }
      #on-screen-logger div { /* Individual log entry styling */
        border-bottom: 1px dotted #444;
        padding-bottom: 2px;
        margin-bottom: 2px;
      }
      #on-screen-logger div:last-child { /* No border for the last entry */
        border-bottom: none;
      }
    </style>
  </head>
  <body>
    <div id="overlay">
      <!-- ON-SCREEN LOGGER ELEMENT -->
      <div id="on-screen-logger"></div>
      <!-- END ON-SCREEN LOGGER ELEMENT -->

      <div id="tracking-prompt" style="display: none;">
        <img src="hand.png" alt="Scan Environment"/>
        <span>スペースにカメラを向いてください</span>
      </div>

      <div id="bottom-controls" style="display: none;">
        <div id="object-selector">
          <button class="object-btn selected" id="object1-btn" data-object-id="obj1" data-ignore-tap="true">
            <img src="Icon1.png" alt="Shelf 1" />
            <span>棚A</span>
          </button>
          <button class="object-btn" id="object2-btn" data-object-id="obj2" data-ignore-tap="true">
            <img src="Icon2.png" alt="Shelf 2" />
            <span>棚B</span>
          </button>
          <button class="object-btn" id="object3-btn" data-object-id="obj3" data-ignore-tap="true">
            <img src="Icon3.png" alt="Bag 1" />
            <span>お菓子A</span>
          </button>
          <button class="object-btn" id="object4-btn" data-object-id="obj4" data-ignore-tap="true">
            <img src="Icon4.png" alt="Bag 2" />
            <span>お菓子B</span>
          </button>
          <button class="object-btn" id="object5-btn" data-object-id="obj5" data-ignore-tap="true">
            <img src="Icon5.png" alt="Bag 3" />
            <span>カップ麵</span>
          </button>
        </div>

        <div id="action-buttons">
          <button id="prev-object-btn" class="action-btn cycle-btn" data-ignore-tap="true" style="display: none;">
            <i class="fas fa-chevron-left"></i>
            <span>前へ</span>
          </button>
          <button id="place-object-btn" class="action-btn place-btn" data-ignore-tap="true">
            <i class="fas fa-plus-circle"></i>
            <span>設置する</span>
          </button>
          <button id="next-object-btn" class="action-btn cycle-btn" data-ignore-tap="true" style="display: none;">
            <i class="fas fa-chevron-right"></i>
            <span>次へ</span>
          </button>
          <button id="delete-object-btn" class="action-btn delete-btn" style="display: none;" data-ignore-tap="true">
            <i class="fas fa-trash-alt"></i>
            <span>削除</span>
          </button>
        </div>
      </div>
    </div>

    <div id="app">
      <h2>商品配置</h2>
      <div id="ar-not-supported"></div>
    </div>

    <script type="module" src="/main.js"></script>
  </body>
</html>